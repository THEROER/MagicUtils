{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"MagicUtils","text":"<p>MagicUtils is a modular toolkit for Bukkit/Paper, Fabric, and NeoForge. It provides shared building blocks for configuration, localisation, commands, logging, placeholders, and platform adapters.</p>"},{"location":"#highlights","title":"Highlights","text":"<ul> <li>Config manager with JSON/JSONC, YAML, and TOML support plus migrations.</li> <li>Annotation-first command framework with type parsers, options, and tab completion.</li> <li>Adventure-based logger with rich formatting, sub-loggers, and help styling.</li> <li>Language manager with MiniMessage, custom messages, and per-player overrides.</li> <li>Placeholder registry with Bukkit PlaceholderAPI bridge.</li> </ul>"},{"location":"#modules-at-a-glance","title":"Modules at a glance","text":"Layer Artifacts Notes Platform API <code>magicutils-api</code> <code>Platform</code>, <code>Audience</code>, and shared interfaces. Core stack <code>magicutils-core</code> Logger + commands + config + lang + placeholders. Feature modules <code>magicutils-logger</code>, <code>magicutils-commands</code>, <code>magicutils-config</code>, <code>magicutils-lang</code>, <code>magicutils-placeholders</code> Mix and match. Format helpers <code>magicutils-config-yaml</code>, <code>magicutils-config-toml</code> Enable extra config formats. Platform adapters <code>magicutils-bukkit</code>, <code>magicutils-fabric</code>, <code>magicutils-neoforge</code> Wire MagicUtils to a runtime. Fabric extras <code>magicutils-commands-fabric</code>, <code>magicutils-logger-fabric</code>, <code>magicutils-placeholders-fabric</code>, <code>magicutils-fabric-bundle</code> Brigadier integration and jar-in-jar bundle."},{"location":"#quick-start","title":"Quick start","text":"<ol> <li>Add the GitHub Pages Maven repository.</li> <li>Add the dependency for your platform.</li> <li>Initialise the modules you need.</li> </ol> <pre><code>repositories {\n    maven(\"https://theroer.github.io/MagicUtils/maven/\")\n}\n</code></pre> Bukkit/PaperFabricNeoForge <pre><code>dependencies {\n    implementation(\"dev.ua.theroer:magicutils-bukkit:dev\")\n    // Optional format helpers\n    implementation(\"dev.ua.theroer:magicutils-config-yaml:dev\")\n    implementation(\"dev.ua.theroer:magicutils-config-toml:dev\")\n}\n</code></pre> <pre><code>dependencies {\n    modImplementation(include(\"dev.ua.theroer:magicutils-fabric-bundle:dev\"))\n    modCompileOnly(\"dev.ua.theroer:magicutils-fabric-bundle:dev:dev\")\n    modRuntimeOnly(\"dev.ua.theroer:magicutils-fabric-bundle:dev:dev\")\n}\n</code></pre> <pre><code>dependencies {\n    implementation(\"dev.ua.theroer:magicutils-neoforge:dev\")\n}\n</code></pre>"},{"location":"#where-to-go-next","title":"Where to go next","text":"<ul> <li>Read the installation guide for platform-specific details and bundle options.</li> <li>Jump into the module pages for deeper API examples and configs.</li> <li>Use the version selector in the header to switch between releases.</li> </ul>"},{"location":"api/","title":"API reference","text":"<p>The API reference is provided as Javadoc.</p> <ul> <li>Local build: <code>./gradlew javadoc</code></li> <li>Hosted docs (releases): <code>https://theroer.github.io/MagicUtils/javadoc/dev/</code></li> </ul> <p>If you are on a dev build, the hosted Javadoc may not exist yet.</p>"},{"location":"contributing/","title":"Contributing","text":""},{"location":"contributing/#build","title":"Build","text":"<pre><code>./gradlew build\n</code></pre>"},{"location":"contributing/#build-the-docs-locally","title":"Build the docs locally","text":"<pre><code>python -m pip install mkdocs-material mkdocs-macros-plugin mike\nmkdocs serve\n</code></pre>"},{"location":"contributing/#deploy-versioned-docs-maintainers","title":"Deploy versioned docs (maintainers)","text":"<pre><code>mike deploy --update-aliases 1.10.0 stable\nmike set-default stable\n</code></pre> <p>For dev docs:</p> <pre><code>mike deploy --update-aliases dev latest\nmike set-default latest\n</code></pre>"},{"location":"faq/","title":"FAQ / Troubleshooting","text":"<p>Common issues and fixes when integrating MagicUtils.</p>"},{"location":"faq/#yamltoml-config-not-available","title":"YAML/TOML config not available","text":"<p>If you see <code>YAMLFactory</code>/<code>TOMLFactory</code> missing, add the format helpers:</p> <ul> <li><code>magicutils-config-yaml</code></li> <li><code>magicutils-config-toml</code></li> </ul> <p>If the config format is not required, switch to JSON/JSONC instead.</p>"},{"location":"faq/#jackson-nosuchmethoderror","title":"Jackson <code>NoSuchMethodError</code>","text":"<p>Errors like <code>YAMLParser.createChildObjectContext(...)</code> or <code>BufferRecycler.releaseToPool()</code> indicate mixed Jackson versions. Make sure your project uses the same Jackson version as MagicUtils (currently <code>2.17.1</code>) and exclude older transitive Jackson artifacts.</p>"},{"location":"faq/#noclassdeffounderror-devuatheroermagicutilsplatformplatform","title":"<code>NoClassDefFoundError: dev.ua.theroer.magicutils.platform.Platform</code>","text":"<p>The platform API is missing from the runtime. Add <code>magicutils-api</code> (or use a platform bundle such as <code>magicutils-bukkit</code> / <code>magicutils-fabric-bundle</code>).</p>"},{"location":"faq/#noclassdeffounderror-for-adventure-classes","title":"<code>NoClassDefFoundError</code> for Adventure classes","text":"<p>Missing classes like <code>net.kyori.ansi.StyleOps</code> or <code>net.kyori.adventure.text.serializer.json.JSONComponentSerializer</code> mean the Adventure serializer dependencies were not included. Use the platform bundle or add the required Adventure modules explicitly.</p>"},{"location":"faq/#placeholders-do-not-resolve","title":"Placeholders do not resolve","text":"<p>MagicUtils bridges to external placeholder mods/plugins only when they are installed:</p> <ul> <li>Bukkit: PlaceholderAPI</li> <li>Fabric: Text Placeholder API or   MiniPlaceholders</li> </ul>"},{"location":"faq/#permissions-on-fabric","title":"Permissions on Fabric","text":"<p>Without <code>fabric-permissions-api</code>, MagicUtils falls back to op-level checks. Install the permissions API (and a permissions plugin like LuckPerms) to get full permission support.</p>"},{"location":"faq/#config-watcher-warnings","title":"Config watcher warnings","text":"<p>If you see <code>Failed to register config watcher</code> / <code>inotify</code> warnings, your OS file watch limit is too low. MagicUtils disables realtime reload in this case. Increase the limit or call <code>ConfigManager.shutdown()</code> on plugin disable to free watchers.</p>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>MagicUtils is split into modules. For most projects you only need a single platform entry point (<code>magicutils-bukkit</code>, <code>magicutils-fabric-bundle</code>, <code>magicutils-neoforge</code>) plus optional format helpers.</p>"},{"location":"getting-started/installation/#choose-a-version","title":"Choose a version","text":"<p>This documentation is versioned. The examples below use <code>dev</code> which matches the current docs version.</p> <p>If you want to hardcode it in your build, replace it with the exact number (for example <code>1.10.0</code>).</p>"},{"location":"getting-started/installation/#repositories","title":"Repositories","text":"<p>Add the GitHub Pages Maven repository.</p> <pre><code>repositories {\n    maven(\"https://theroer.github.io/MagicUtils/maven/\")\n}\n</code></pre>"},{"location":"getting-started/installation/#bukkitpaper","title":"Bukkit/Paper","text":"<p>The Bukkit/Paper adapter bundles the core modules (config, logger, commands, lang, placeholders). Add optional format helpers only when you need them.</p> <p>Kotlin DSL:</p> <pre><code>dependencies {\n    implementation(\"dev.ua.theroer:magicutils-bukkit:dev\")\n    // Optional format helpers\n    implementation(\"dev.ua.theroer:magicutils-config-yaml:dev\")\n    implementation(\"dev.ua.theroer:magicutils-config-toml:dev\")\n}\n</code></pre> <p>Groovy DSL:</p> <pre><code>dependencies {\n    implementation 'dev.ua.theroer:magicutils-bukkit:dev'\n    // Optional format helpers\n    implementation 'dev.ua.theroer:magicutils-config-yaml:dev'\n    implementation 'dev.ua.theroer:magicutils-config-toml:dev'\n}\n</code></pre>"},{"location":"getting-started/installation/#fabric","title":"Fabric","text":"<p>You have two options:</p>"},{"location":"getting-started/installation/#embed-the-bundle-inside-your-mod-jar-in-jar","title":"Embed the bundle inside your mod (Jar-in-Jar)","text":"<p>This is the recommended approach for single-mod setups and avoids requiring server owners to install MagicUtils separately.</p> <p>Kotlin DSL:</p> <pre><code>dependencies {\n    modImplementation(include(\"dev.ua.theroer:magicutils-fabric-bundle:dev\"))\n    // Optional: dev mappings for local run configs\n    modCompileOnly(\"dev.ua.theroer:magicutils-fabric-bundle:dev:dev\")\n    modRuntimeOnly(\"dev.ua.theroer:magicutils-fabric-bundle:dev:dev\")\n}\n</code></pre> <p>Groovy DSL:</p> <pre><code>dependencies {\n    modImplementation(include('dev.ua.theroer:magicutils-fabric-bundle:dev'))\n    // Optional: dev mappings for local run configs\n    modCompileOnly 'dev.ua.theroer:magicutils-fabric-bundle:dev:dev'\n    modRuntimeOnly 'dev.ua.theroer:magicutils-fabric-bundle:dev:dev'\n}\n</code></pre>"},{"location":"getting-started/installation/#depend-on-a-shared-bundle-mod","title":"Depend on a shared bundle mod","text":"<p>If you want one shared MagicUtils install for multiple mods, use a standard dependency and install the bundle mod on the server.</p> <pre><code>dependencies {\n    modImplementation(\"dev.ua.theroer:magicutils-fabric-bundle:dev:dev\")\n}\n</code></pre> <p>If you pick the shared bundle, add the <code>magicutils-fabric-bundle</code> mod to the server <code>mods</code> folder and do not embed it inside other mods.</p> <p>You can download the bundle from the Maven repository: <code>magicutils-fabric-bundle-dev.jar</code></p> <p>You can also add a dependency in your <code>fabric.mod.json</code>:</p> <pre><code>{\n  \"depends\": {\n    \"magicutils-fabric-bundle\": \"&gt;=1.10.0\"\n  }\n}\n</code></pre>"},{"location":"getting-started/installation/#modular-fabric-dependencies-advanced","title":"Modular Fabric dependencies (advanced)","text":"<p>If you want to wire only specific modules, use the platform adapter plus the feature modules you need:</p> <pre><code>dependencies {\n    modImplementation(\"dev.ua.theroer:magicutils-fabric:dev:dev\")\n    modImplementation(\"dev.ua.theroer:magicutils-logger-fabric:dev:dev\")\n    modImplementation(\"dev.ua.theroer:magicutils-commands-fabric:dev:dev\")\n    modImplementation(\"dev.ua.theroer:magicutils-placeholders-fabric:dev:dev\")\n    modImplementation(\"dev.ua.theroer:magicutils-config:dev\")\n    modImplementation(\"dev.ua.theroer:magicutils-lang:dev\")\n}\n</code></pre>"},{"location":"getting-started/installation/#neoforge","title":"NeoForge","text":"<p>NeoForge currently exposes platform, config, and logger integrations. Commands and placeholders are not wired on NeoForge yet.</p> <p>Kotlin DSL:</p> <pre><code>dependencies {\n    implementation(\"dev.ua.theroer:magicutils-neoforge:dev\")\n}\n</code></pre> <p>Groovy DSL:</p> <pre><code>dependencies {\n    implementation 'dev.ua.theroer:magicutils-neoforge:dev'\n}\n</code></pre>"},{"location":"getting-started/installation/#optional-format-helpers","title":"Optional format helpers","text":"<ul> <li><code>magicutils-config-yaml</code> enables YAML support.</li> <li><code>magicutils-config-toml</code> enables TOML support.</li> </ul> <p>Without them, MagicUtils uses JSON or JSONC (Fabric default).</p>"},{"location":"getting-started/installation/#notes-on-shaded-artifacts","title":"Notes on shaded artifacts","text":"<p>Local builds produce <code>*-all</code> artifacts (shaded). The GitHub Pages repository does not include these files due to the 100 MB limit, so do not depend on them.</p>"},{"location":"getting-started/quickstart/","title":"Quickstart","text":"<p>This page shows minimal wiring for the core modules. Each module can be used independently, but the order below keeps config + logger + lang consistent.</p>"},{"location":"getting-started/quickstart/#bukkitpaper","title":"Bukkit/Paper","text":"<pre><code>public final class MyPlugin extends JavaPlugin {\n    private ConfigManager configManager;\n    private Logger logger;\n    private LanguageManager languageManager;\n\n    @Override\n    public void onEnable() {\n        Platform platform = new BukkitPlatformProvider(this);\n        configManager = new ConfigManager(platform);\n\n        logger = new Logger(platform, this, configManager);\n        languageManager = new LanguageManager(this, configManager);\n        languageManager.init(\"en\");\n        languageManager.addMagicUtilsMessages();\n\n        logger.setLanguageManager(languageManager);\n        Messages.setLanguageManager(languageManager);\n\n        CommandRegistry.initialize(this, \"myplugin\", logger);\n        CommandRegistry.register(new HelpCommand(logger));\n        CommandRegistry.register(new ExampleCommand());\n    }\n}\n</code></pre>"},{"location":"getting-started/quickstart/#fabric","title":"Fabric","text":"<pre><code>public final class MyMod implements ModInitializer {\n    @Override\n    public void onInitialize() {\n        ServerLifecycleEvents.SERVER_STARTED.register(server -&gt; {\n            Platform platform = new FabricPlatformProvider(server);\n            ConfigManager configManager = new ConfigManager(platform);\n\n            Logger logger = new Logger(platform, configManager, \"MyMod\");\n\n            CommandRegistry.initialize(\"mymod\", \"mymod\", logger);\n            CommandRegistry.register(new HelpCommand(logger));\n            CommandRegistry.register(new ExampleCommand());\n        });\n    }\n}\n</code></pre>"},{"location":"getting-started/quickstart/#neoforge","title":"NeoForge","text":"<pre><code>public final class MyMod {\n    private ConfigManager configManager;\n    private LoggerCore logger;\n\n    public void onServerStarting() {\n        Platform platform = new NeoForgePlatformProvider();\n        configManager = new ConfigManager(platform);\n\n        logger = new LoggerCore(platform, configManager, this, \"MyMod\");\n        logger.info().send(\"&lt;green&gt;Ready.&lt;/green&gt;\");\n    }\n}\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next steps","text":"<ul> <li>Pick the modules you need from the Modules section.</li> <li>Review the examples under <code>examples/</code> in the repository.</li> </ul>"},{"location":"getting-started/versioning/","title":"Versioning","text":"<p>This site is versioned with <code>mike</code> and published to GitHub Pages. Each documentation version matches a MagicUtils release tag.</p>"},{"location":"getting-started/versioning/#documentation-versions","title":"Documentation versions","text":"<p>The version selector in the header switches between:</p> <ul> <li><code>stable</code>: the latest tagged release.</li> <li><code>dev</code>: the current development branch.</li> </ul> <p>Examples in the docs use <code>dev</code> which is automatically set to the active docs version.</p>"},{"location":"getting-started/versioning/#tag-releases-for-maintainers","title":"Tag releases (for maintainers)","text":"<p>When you tag a release (for example <code>v1.10.0</code>), the workflow deploys a new docs version and updates the <code>stable</code> alias.</p> <pre><code># Local\nmike deploy --update-aliases 1.10.0 stable\nmike set-default stable\n</code></pre>"},{"location":"getting-started/versioning/#development-docs","title":"Development docs","text":"<p>For development builds, the workflow deploys <code>dev</code> and sets <code>latest</code> as the default alias.</p> <pre><code># Local\nmike deploy --update-aliases dev latest\nmike set-default latest\n</code></pre>"},{"location":"modules/commands-cheatsheet/","title":"Commands cheat sheet","text":"<p>Quick reference for the MagicUtils command system.</p>"},{"location":"modules/commands-cheatsheet/#minimal-annotated-command","title":"Minimal annotated command","text":"<pre><code>@CommandInfo(name = \"donate\", description = \"Main command\")\npublic final class DonateCommand extends MagicCommand {\n    public CommandResult execute(@Sender MagicSender sender) {\n        return CommandResult.success(\"ok\");\n    }\n}\n</code></pre>"},{"location":"modules/commands-cheatsheet/#subcommands-and-nested-paths","title":"Subcommands and nested paths","text":"<pre><code>@SubCommand(name = \"give\")\npublic CommandResult give(@Sender MagicSender sender, Player target) { ... }\n\n@SubCommand(path = {\"npc\", \"commands\"}, name = \"add\")\npublic CommandResult addNpcCommand(...) { ... }\n</code></pre>"},{"location":"modules/commands-cheatsheet/#options-flags","title":"Options / flags","text":"<pre><code>public CommandResult give(\n        @Option(shortNames = {\"a\"}, longNames = {\"amount\"}) int amount,\n        @Option(shortNames = {\"s\"}, longNames = {\"silent\"}, flag = true) boolean silent\n) { ... }\n</code></pre> <p>Accepted forms:</p> <ul> <li><code>--amount 5</code></li> <li><code>-a 5</code></li> <li><code>--silent</code> / <code>-s</code></li> </ul>"},{"location":"modules/commands-cheatsheet/#optional-default-values","title":"Optional + default values","text":"<pre><code>public CommandResult set(\n        @DefaultValue(\"en\") String lang,\n        @OptionalArgument Player target\n) { ... }\n</code></pre>"},{"location":"modules/commands-cheatsheet/#greedy-text","title":"Greedy text","text":"<pre><code>public CommandResult say(@Greedy String message) { ... }\n</code></pre>"},{"location":"modules/commands-cheatsheet/#suggestions","title":"Suggestions","text":"<pre><code>@Suggest(\"@players\") Player target\n@Suggest(\"{easy,hard}\") String mode\n@Suggest(\"getItems\") String item\n</code></pre> <p>Suggestion methods can be:</p> <ul> <li><code>List&lt;String&gt; getItems()</code></li> <li><code>List&lt;String&gt; getItems(Player player)</code></li> <li><code>List&lt;String&gt; getItems(ServerCommandSource sender)</code></li> </ul>"},{"location":"modules/commands-cheatsheet/#sender-injection","title":"Sender injection","text":"<pre><code>public CommandResult execute(@Sender MagicSender sender) { ... }\n</code></pre> <p>Allowed senders:</p> <p><code>ANY</code>, <code>PLAYER</code>, <code>CONSOLE</code>, <code>BLOCK</code>, <code>MINECART</code>, <code>PROXIED</code>, <code>REMOTE</code>.</p>"},{"location":"modules/commands-cheatsheet/#builder-api-snippet","title":"Builder API snippet","text":"<pre><code>CommandSpec&lt;CommandSender&gt; spec = CommandSpec.&lt;CommandSender&gt;builder(\"donate\")\n        .description(\"Main command\")\n        .aliases(\"d\")\n        .execute(ctx -&gt; CommandResult.success(\"ok\"))\n        .subCommand(SubCommandSpec.&lt;CommandSender&gt;builder(\"give\")\n                .argument(CommandArgument.builder(\"player\", Player.class).build())\n                .execute(ctx -&gt; CommandResult.success(\"ok\"))\n                .build())\n        .build();\n</code></pre>"},{"location":"modules/commands/","title":"Commands","text":"<p>MagicUtils commands are annotation-first but can be combined with a builder API. Commands are registered per platform via <code>CommandRegistry</code>.</p> <p>See Commands Cheat Sheet for a quick reference and Permissions for permission node details.</p>"},{"location":"modules/commands/#registration","title":"Registration","text":""},{"location":"modules/commands/#bukkitpaper","title":"Bukkit/Paper","text":"<pre><code>CommandRegistry.initialize(plugin, \"myplugin\", logger);\nCommandRegistry.register(new DonateCommand());\n</code></pre> <p>Register multiple commands at once:</p> <pre><code>CommandRegistry.registerAll(new DonateCommand(), new AdminCommand());\n</code></pre>"},{"location":"modules/commands/#fabric","title":"Fabric","text":"<pre><code>CommandRegistry.initialize(\"mymod\", \"mymod\", logger);\nCommandRegistry.register(new DonateCommand());\n</code></pre> <p>The second argument is the permission prefix used when building nodes.</p>"},{"location":"modules/commands/#annotation-based-commands","title":"Annotation-based commands","text":"<p>Use <code>@CommandInfo</code> on the class and <code>@SubCommand</code> on methods. A method named <code>execute</code> without <code>@SubCommand</code> is treated as the root handler.</p> <pre><code>@CommandInfo(\n        name = \"donate\",\n        description = \"DonateMenu main command\",\n        aliases = {\"d\"},\n        permission = \"donate.use\"\n)\npublic final class DonateCommand extends MagicCommand {\n\n    public CommandResult execute(@Sender MagicSender sender) {\n        return CommandResult.success(\"Opened menu\");\n    }\n\n    @SubCommand(name = \"give\", description = \"Give currency to a player\")\n    public CommandResult give(\n            @Sender MagicSender sender,\n            @ParamName(\"player\") Player target,\n            @Option(shortNames = {\"a\"}, longNames = {\"amount\"}) int amount,\n            @Option(shortNames = {\"s\"}, longNames = {\"silent\"}, flag = true) boolean silent\n    ) {\n        return CommandResult.success(silent ? \"\" : \"Done\");\n    }\n}\n</code></pre> <p>Nested subcommands are supported via <code>path</code>:</p> <pre><code>@SubCommand(path = {\"npc\", \"commands\"}, name = \"add\")\npublic CommandResult addNpcCommand(...) { ... }\n</code></pre>"},{"location":"modules/commands/#common-annotations","title":"Common annotations","text":"<ul> <li><code>@ParamName</code> overrides argument names for help output.</li> <li><code>@OptionalArgument</code> or <code>@DefaultValue(\"...\")</code> marks a parameter optional.</li> <li><code>@Greedy</code> captures the rest of the input (free-form text).</li> <li><code>@Suggest(\"source\")</code> adds tab completion hints.</li> <li><code>@Sender</code> injects the command sender and hides it from usage/help.</li> <li><code>@Option(shortNames = {\"a\"}, longNames = {\"amount\"})</code> enables <code>-a 5</code> and   <code>--amount 5</code>. Set <code>flag = true</code> for <code>-s</code>/<code>--silent</code> toggles.</li> </ul> <p><code>@Sender</code> supports sender filtering via <code>AllowedSender</code> to restrict console, players, command blocks, etc.</p> <p>Allowed sender kinds:</p> <ul> <li><code>ANY</code>, <code>PLAYER</code>, <code>CONSOLE</code></li> <li><code>BLOCK</code>, <code>MINECART</code>, <code>PROXIED</code>, <code>REMOTE</code></li> </ul>"},{"location":"modules/commands/#suggestions","title":"Suggestions","text":"<p>Suggestions can come from:</p> <ul> <li>Type parsers (players, worlds, enums, booleans).</li> <li>Special sources like <code>@players</code>, <code>@worlds</code>, <code>@commands</code>.</li> <li>Explicit lists: <code>@Suggest(\"{on,off,reset}\")</code>.</li> <li>Methods on the command class (<code>@Suggest(\"getItems\")</code>).</li> </ul> <p>Suggestion methods can be:</p> <ul> <li><code>String[] getItems()</code> or <code>List&lt;String&gt; getItems()</code>.</li> <li><code>getItems(Player player)</code> or <code>getItems(ServerCommandSource sender)</code> depending on platform.</li> </ul> <p>Note: <code>@offlineplayers</code> and <code>@language_keys</code> exist on Bukkit only.</p> <p>Built-in suggestion sources:</p> <ul> <li><code>@players</code>, <code>@player</code>, <code>@allplayers</code>, <code>@offlineplayers</code></li> <li><code>@worlds</code>, <code>@world</code></li> <li><code>@commands</code> (all registered command names + aliases)</li> <li><code>{a,b,c}</code> inline list syntax</li> </ul>"},{"location":"modules/commands/#permissions","title":"Permissions","text":"<p>You can lock permissions at three levels:</p> <ul> <li><code>@CommandInfo.permission</code> for the root command.</li> <li><code>@SubCommand.permission</code> for subcommands.</li> <li><code>@Permission</code> on parameters for argument-level checks.</li> </ul> <p>Permission nodes are generated when annotations do not provide explicit values:</p> <ul> <li>Command: <code>commands.&lt;command&gt;</code></li> <li>Subcommand: <code>commands.&lt;command&gt;.subcommand.&lt;path&gt;</code></li> <li>Argument: <code>commands.&lt;command&gt;.subcommand.&lt;path&gt;.argument.&lt;name&gt;</code></li> </ul> <p>These are then prefixed by the permission prefix passed to <code>CommandRegistry.initialize(...)</code>.</p> <p>Example with prefix <code>donatemenu</code>:</p> <ul> <li><code>donatemenu.commands.donate</code></li> <li><code>donatemenu.commands.donate.subcommand.give</code></li> <li><code>donatemenu.commands.donate.subcommand.give.argument.player</code></li> </ul>"},{"location":"modules/commands/#default-permission-values","title":"Default permission values","text":"<p>Use <code>MagicPermissionDefault</code> to control who can execute by default:</p> <ul> <li><code>TRUE</code> -&gt; everyone</li> <li><code>OP</code> -&gt; operators (default)</li> <li><code>NOT_OP</code> -&gt; non-operators</li> <li><code>FALSE</code> -&gt; nobody (explicit permission required)</li> </ul> <p>On Bukkit, MagicUtils automatically registers these permissions with the chosen defaults and also creates wildcard nodes:</p> <ul> <li><code>...commands.&lt;command&gt;.*</code></li> <li><code>...commands.&lt;command&gt;.subcommand.*</code></li> </ul> <p>On Fabric, it uses <code>fabric-permissions-api</code> when available, otherwise falls back to op-level checks (configurable in <code>CommandRegistry.initialize</code>).</p> <p>Example with conditional permission:</p> <pre><code>public CommandResult grant(\n        @Sender MagicSender sender,\n        @Permission(when = \"other(player)\", message = \"No permission\")\n        @ParamName(\"player\") Player target\n) {\n    return CommandResult.success(\"ok\");\n}\n</code></pre> <p>Supported permission condition keywords:</p> <ul> <li><code>self(arg)</code> / <code>other(arg)</code> / <code>anyother(arg)</code></li> <li><code>not_null(arg)</code> / <code>exists(arg)</code></li> <li><code>distinct(a,b)</code> / <code>all_distinct(a,b)</code></li> <li><code>equals(a,b)</code> / <code>not_equals(a,b)</code></li> </ul> <p>Use <code>compare = CompareMode.UUID/NAME/EQUALS/AUTO</code> to control comparison rules.</p> <p>The permission prefix passed to <code>CommandRegistry.initialize(...)</code> is prepended automatically.</p>"},{"location":"modules/commands/#commandresult","title":"CommandResult","text":"<p><code>CommandResult.success()</code> and <code>CommandResult.failure()</code> control whether a message is sent back to the sender. Use <code>success()</code> to avoid output, or pass a message for automatic reply.</p>"},{"location":"modules/commands/#help-output","title":"Help output","text":"<p>The help renderer respects permissions and hides commands or arguments the sender cannot access. You can embed help into your command tree via <code>HelpCommandSupport</code> (see Recipes).</p>"},{"location":"modules/commands/#help-command","title":"Help command","text":""},{"location":"modules/commands/#standalone-command","title":"Standalone command","text":"<p>Register the built-in help command to expose <code>/mhelp</code> (alias <code>/help</code>):</p> <pre><code>CommandRegistry.register(new HelpCommand(logger));\n</code></pre> <p>You can rename or add aliases using runtime overrides:</p> <pre><code>CommandRegistry.register(new HelpCommand(logger)\n        .withName(\"donatehelp\")\n        .addAlias(\"dhelp\"));\n</code></pre>"},{"location":"modules/commands/#subcommand","title":"Subcommand","text":"<p>Attach help as a subcommand to an existing command:</p> <pre><code>CommandRegistry.register(new DonateCommand()\n        .addSubCommand(HelpCommandSupport.createHelpSubCommand(\n                \"help\",\n                logger.getCore(),\n                CommandRegistry::getCommandManager\n        )));\n</code></pre> <p>Help formatting is controlled by <code>logger.yml</code> under the <code>help</code> section.</p>"},{"location":"modules/commands/#magicsender","title":"MagicSender","text":"<p><code>MagicSender</code> is a platform-agnostic sender wrapper. You can use it directly in command signatures or wrap raw senders:</p> <pre><code>MagicSender sender = MagicSender.wrap(rawSender);\nif (MagicSender.hasPermission(rawSender, \"my.permission\")) {\n    // ...\n}\n</code></pre>"},{"location":"modules/commands/#builder-api","title":"Builder API","text":"<p>Use the builder API when you need runtime composition:</p> <pre><code>CommandSpec&lt;CommandSender&gt; spec = CommandSpec.&lt;CommandSender&gt;builder(\"donate\")\n        .description(\"DonateMenu main command\")\n        .aliases(\"d\")\n        .execute(ctx -&gt; CommandResult.success(\"Opened menu\"))\n        .subCommand(SubCommandSpec.&lt;CommandSender&gt;builder(\"give\")\n                .description(\"Give currency\")\n                .argument(CommandArgument.builder(\"player\", Player.class).build())\n                .argument(CommandArgument.builder(\"amount\", Integer.class).build())\n                .execute(ctx -&gt; CommandResult.success(\"ok\"))\n                .build())\n        .build();\n\nCommandRegistry.register(spec);\n</code></pre> <p>You can also mix annotations with dynamic overrides:</p> <ul> <li><code>withName(...)</code>, <code>addAlias(...)</code>, <code>removeAlias(...)</code></li> <li><code>addSubCommand(SubCommandSpec)</code> to inject new subcommands</li> <li><code>setExecute(...)</code> to override the root handler</li> </ul> <p>Builder subcommands support nested paths as well:</p> <pre><code>SubCommandSpec&lt;CommandSender&gt; npcAdd = SubCommandSpec.&lt;CommandSender&gt;builder(\"add\")\n        .path(\"npc\", \"commands\")\n        .description(\"Add NPC command\")\n        .execute(ctx -&gt; CommandResult.success(\"ok\"))\n        .build();\n</code></pre>"},{"location":"modules/commands/#type-parsers","title":"Type parsers","text":"<p>Custom parsers and suggestions are registered per registry:</p> <pre><code>CommandRegistry.getCommandManager()\n        .getTypeParserRegistry()\n        .register(new MyTypeParser());\n</code></pre>"},{"location":"modules/config-advanced/","title":"Config advanced","text":"<p>This page covers advanced configuration features: format selection, migrations, and adapters.</p>"},{"location":"modules/config-advanced/#format-selection","title":"Format selection","text":"<p>If your <code>@ConfigFile</code> uses <code>{ext}</code>, MagicUtils can switch formats using:</p> <ul> <li><code>&lt;config&gt;.format</code> next to the config file (one line: <code>json</code>, <code>jsonc</code>, <code>yml</code>, <code>toml</code>)</li> <li><code>magicutils.format</code> in the config root directory</li> <li><code>-Dmagicutils.config.format=...</code></li> <li><code>MAGICUTILS_CONFIG_FORMAT</code> environment variable</li> </ul> <p>If multiple formats exist, MagicUtils picks one and logs a warning.</p>"},{"location":"modules/config-advanced/#format-migration","title":"Format migration","text":"<p>When <code>&lt;config&gt;.format</code> changes and an older format file exists, MagicUtils can migrate the contents into the new format and keep both in sync.</p>"},{"location":"modules/config-advanced/#schema-migrations","title":"Schema migrations","text":"<p>Register <code>ConfigMigration</code> steps to evolve config schemas.</p> <pre><code>manager.registerMigrations(MyConfig.class,\n        new ConfigMigration() {\n            public String fromVersion() { return \"0\"; }\n            public String toVersion() { return \"1\"; }\n            public void migrate(Map&lt;String, Object&gt; root) {\n                root.put(\"enabled\", true);\n            }\n        }\n);\n</code></pre> <p>MagicUtils stores the current schema in <code>config-version</code>.</p>"},{"location":"modules/config-advanced/#custom-adapters","title":"Custom adapters","text":"<p>Use <code>ConfigAdapters.register(...)</code> for custom value types:</p> <pre><code>ConfigAdapters.register(Duration.class, new ConfigValueAdapter&lt;&gt;() {\n    public Duration deserialize(Object value) { ... }\n    public Object serialize(Duration value) { ... }\n});\n</code></pre>"},{"location":"modules/config-advanced/#hot-reload","title":"Hot reload","text":"<p>Mark reloadable sections and listen for updates:</p> <pre><code>@ConfigReloadable(sections = {\"messages\"})\npublic final class MyConfig { ... }\n\nmanager.onChange(MyConfig.class, (cfg, sections) -&gt; {\n    // apply live update\n});\n</code></pre>"},{"location":"modules/config/","title":"Config","text":"<p>MagicUtils config maps files to POJOs using annotations while preserving user comments and unknown keys when saving.</p>"},{"location":"modules/config/#define-a-config","title":"Define a config","text":"<pre><code>@ConfigFile(\"example.{ext}\")\n@Comment(\"Example configuration\")\n@ConfigReloadable(sections = {\"messages\"})\npublic final class ExampleConfig {\n    @ConfigValue(\"enabled\")\n    private boolean enabled = true;\n\n    @ConfigSection(\"messages\")\n    private Messages messages = new Messages();\n\n    public static final class Messages {\n        @ConfigValue(\"greeting\")\n        @Comment(\"Greeting shown to players\")\n        private String greeting = \"Hello\";\n    }\n}\n</code></pre> <pre><code>ConfigManager manager = new ConfigManager(platform);\nExampleConfig cfg = manager.register(ExampleConfig.class);\n</code></pre>"},{"location":"modules/config/#formats-and-selection","title":"Formats and selection","text":"<ul> <li>JSON/JSONC are available out of the box.</li> <li>YAML requires <code>magicutils-config-yaml</code>.</li> <li>TOML requires <code>magicutils-config-toml</code>.</li> </ul> <p>MagicUtils can choose a format based on file extension. If you use <code>{ext}</code> in <code>@ConfigFile</code>, it will follow the preferred format:</p> <ul> <li><code>example.format</code> next to the config (contents: <code>json</code>, <code>jsonc</code>, <code>yml</code>, <code>toml</code>).</li> <li><code>magicutils.format</code> in the root config directory (global default).</li> <li><code>-Dmagicutils.config.format=jsonc</code> or the <code>MAGICUTILS_CONFIG_FORMAT</code> env var.</li> </ul> <p>Fabric defaults to JSONC when YAML is not available.</p> <p>For advanced format selection and migrations, see Config Advanced.</p>"},{"location":"modules/config/#reloading-and-hot-watch","title":"Reloading and hot watch","text":"<p>Register change listeners:</p> <pre><code>manager.onChange(ExampleConfig.class, (config, sections) -&gt; {\n    // apply live updates\n});\n</code></pre> <p><code>@ConfigReloadable</code> restricts which sections may reload at runtime.</p>"},{"location":"modules/config/#migrations","title":"Migrations","text":"<p>Config migrations are declared with <code>ConfigMigration</code> and tracked by the <code>config-version</code> key inside the file.</p> <pre><code>manager.registerMigrations(ExampleConfig.class,\n        new ConfigMigration() {\n            public String fromVersion() { return \"0\"; }\n            public String toVersion() { return \"1\"; }\n            public void migrate(Map&lt;String, Object&gt; root) {\n                root.put(\"enabled\", true);\n            }\n        }\n);\n</code></pre>"},{"location":"modules/config/#custom-value-adapters","title":"Custom value adapters","text":"<p>Register custom serializers via <code>ConfigAdapters.register(...)</code>:</p> <pre><code>ConfigAdapters.register(Duration.class, new ConfigValueAdapter&lt;&gt;() {\n    public Duration deserialize(Object value) { ... }\n    public Object serialize(Duration value) { ... }\n});\n</code></pre>"},{"location":"modules/config/#shutdown","title":"Shutdown","text":"<p>On Bukkit and Fabric, MagicUtils automatically stops the watcher when the server shuts down. For custom platforms, call <code>ConfigManager.shutdown()</code> during plugin shutdown.</p>"},{"location":"modules/lang/","title":"Lang","text":"<p>The lang module manages localisation files, custom messages, and per-player language overrides.</p>"},{"location":"modules/lang/#setup","title":"Setup","text":"<pre><code>LanguageManager languageManager = new LanguageManager(plugin, configManager);\nlanguageManager.init(\"en\");\nlanguageManager.setFallbackLanguage(\"en\");\nlanguageManager.addMagicUtilsMessages();\n\nMessages.setLanguageManager(languageManager);\nlogger.setLanguageManager(languageManager);\n</code></pre> <p>Language files are stored under <code>config/lang/&lt;lang&gt;.yml</code>. The lang module uses YAML, so include <code>magicutils-config-yaml</code> if you use <code>LanguageManager</code>.</p>"},{"location":"modules/lang/#resolving-messages","title":"Resolving messages","text":"<pre><code>Component title = Messages.get(\"myplugin.welcome\");\nMessages.send(playerAudience, \"myplugin.goodbye\");\n\nString raw = Messages.getRaw(\"myplugin.balance\", \"amount\", \"42\");\nComponent rich = Messages.get(\"myplugin.balance\", Map.of(\"amount\", \"42\"));\n</code></pre> <p><code>Messages</code> uses MiniMessage for rich output and supports <code>{placeholder}</code> style replacements.</p>"},{"location":"modules/lang/#per-player-languages","title":"Per-player languages","text":"<pre><code>languageManager.setPlayerLanguage(playerUuid, \"uk\");\nString msg = languageManager.getMessageForAudience(audience, \"myplugin.welcome\");\n</code></pre> <p><code>setPlayerLanguage(...)</code> accepts UUIDs, Audience, or player objects with <code>getUniqueId()</code>.</p>"},{"location":"modules/lang/#custom-messages","title":"Custom messages","text":"<pre><code>languageManager.putCustomMessage(\"en\", \"myplugin.welcome\", \"&lt;green&gt;Hello&lt;/green&gt;\");\n</code></pre> <p>Custom messages are persisted in the same language files under <code>messages</code>.</p>"},{"location":"modules/lang/#missing-keys","title":"Missing keys","text":"<p>Enable logging for missing translations:</p> <pre><code>languageManager.setLogMissingMessages(true);\n</code></pre>"},{"location":"modules/logger-config/","title":"Logger config reference","text":"<p><code>logger.{ext}</code> stores logger settings. On Bukkit it lives in the plugin config folder. On Fabric it is namespaced under <code>config/&lt;modid&gt;/</code> by default.</p> <p>Formats:</p> <ul> <li>JSON/JSONC by default</li> <li>YAML/TOML when the format helpers are available</li> </ul>"},{"location":"modules/logger-config/#minimal-example","title":"Minimal example","text":"<pre><code>plugin-name: DonateMenu\nshort-name: DM\nauto-localization: true\ndebug-placeholders: false\n\nprefix:\n  chat-mode: FULL\n  console-mode: SHORT\n  custom: \"[DM]\"\n  use-gradient-chat: true\n  use-gradient-console: false\n\ndefaults:\n  target: BOTH\n  text-max-length: 262144\n  placeholder-engine-order: [MINI_PLACEHOLDERS, PB4, PAPI]\n  miniplaceholders-mode: COMPONENT\n  pb4-mode: COMPONENT\n\nchat:\n  auto-generate-colors: true\n  gradient: [\"#7c3aed\", \"#ec4899\"]\n  colors:\n    error: [\"#ff4444\", \"#cc0000\"]\n    warn: [\"#ffbb33\", \"#ff8800\"]\n    debug: [\"#33b5e5\", \"#0099cc\"]\n    success: [\"#00c851\", \"#007e33\"]\n\nconsole:\n  auto-generate-colors: true\n  gradient: [\"#ffcc00\", \"#ff6600\"]\n  strip-formatting: false\n  colors:\n    error: [\"#ff4444\", \"#cc0000\"]\n    warn: [\"#ffbb33\", \"#ff8800\"]\n    debug: [\"#33b5e5\", \"#0099cc\"]\n    success: [\"#00c851\", \"#007e33\"]\n\nhelp:\n  use-logger-colors: true\n  primary-color: \"#ff55ff\"\n  muted-color: \"gray\"\n  text-color: \"white\"\n  line: \"-----------------------------\"\n  page-size: 7\n  max-enum-values: 8\n\nsub-loggers:\n  Commands:\n    enabled: true\n</code></pre>"},{"location":"modules/logger-config/#key-sections","title":"Key sections","text":""},{"location":"modules/logger-config/#plugin-name-short-name","title":"plugin-name / short-name","text":"<p>Auto-filled on first run and used in prefix rendering. <code>short-name</code> is used by <code>PrefixMode.SHORT</code>.</p>"},{"location":"modules/logger-config/#auto-localization","title":"auto-localization","text":"<p>When enabled, any message that starts with <code>@</code> is treated as a language key and resolved via <code>LanguageManager</code>.</p>"},{"location":"modules/logger-config/#prefix","title":"prefix","text":"<ul> <li><code>chat-mode</code> / <code>console-mode</code>: <code>NONE</code>, <code>SHORT</code>, <code>FULL</code>, <code>CUSTOM</code></li> <li><code>custom</code>: custom prefix string for <code>CUSTOM</code></li> <li><code>use-gradient-chat</code> / <code>use-gradient-console</code>: apply gradient to prefix</li> </ul>"},{"location":"modules/logger-config/#defaults","title":"defaults","text":"<ul> <li><code>target</code>: <code>CHAT</code>, <code>CONSOLE</code>, <code>BOTH</code></li> <li><code>text-max-length</code>: max JSON length (Fabric only)</li> <li><code>placeholder-engine-order</code>: preferred external placeholder order</li> <li><code>miniplaceholders-mode</code>: <code>COMPONENT</code> or <code>TAG</code></li> <li><code>pb4-mode</code>: <code>COMPONENT</code> or <code>RAW</code></li> </ul>"},{"location":"modules/logger-config/#chat-console","title":"chat / console","text":"<p>Color palettes and gradients. Set <code>auto-generate-colors</code> to <code>false</code> to force custom palettes.</p>"},{"location":"modules/logger-config/#help","title":"help","text":"<p>Controls the built-in help renderer formatting and pagination.</p>"},{"location":"modules/logger-config/#sub-loggers","title":"sub-loggers","text":"<p>Per-prefix enable flags for <code>logger.withPrefix(...)</code> instances.</p>"},{"location":"modules/logger/","title":"Logger","text":"<p>MagicUtils logger builds on Adventure components and provides a consistent API for console and chat output, with optional localisation and placeholders.</p>"},{"location":"modules/logger/#setup","title":"Setup","text":"<p>Use the platform adapter where available:</p> <pre><code>Platform platform = new BukkitPlatformProvider(plugin);\nConfigManager configManager = new ConfigManager(platform);\nLogger logger = new Logger(platform, plugin, configManager);\n</code></pre> <p>Fabric uses the same <code>Logger</code> class from <code>magicutils-logger-fabric</code>:</p> <pre><code>Platform platform = new FabricPlatformProvider(server);\nConfigManager configManager = new ConfigManager(platform);\nLogger logger = new Logger(platform, configManager, \"MyMod\");\n</code></pre> <p>For custom platforms (or NeoForge), use <code>LoggerCore</code> directly.</p>"},{"location":"modules/logger/#basic-usage","title":"Basic usage","text":"<pre><code>logger.info(\"&lt;green&gt;Ready.&lt;/green&gt;\");\nlogger.warn(\"Slow query detected\");\nlogger.error(\"Database unavailable\");\n</code></pre> <p>The logger accepts MiniMessage markup and can route to console, chat, or both.</p>"},{"location":"modules/logger/#prefixed-loggers","title":"Prefixed loggers","text":"<pre><code>PrefixedLogger db = logger.withPrefix(\"database\", \"[DB]\");\ndb.info(\"Connected\");\n</code></pre> <p>Each prefixed logger has its own entry under <code>sub-loggers</code> in <code>logger.yml</code> for enable/disable.</p>"},{"location":"modules/logger/#log-builder","title":"Log builder","text":"<pre><code>logger.info()\n        .toConsole()\n        .noPrefix()\n        .send(\"&lt;yellow&gt;Reloaded&lt;/yellow&gt;\");\n</code></pre> <p>Use <code>target(LogTarget.CHAT/CONSOLE/BOTH)</code> and <code>to(audience)</code> for fine control.</p>"},{"location":"modules/logger/#prefix-modes","title":"Prefix modes","text":"<p>Prefix rendering can be controlled via <code>PrefixMode</code>:</p> <ul> <li><code>FULL</code> -&gt; full plugin/mod name</li> <li><code>SHORT</code> -&gt; short name from config</li> <li><code>CUSTOM</code> -&gt; <code>LoggerCore.setCustomPrefix(...)</code></li> <li><code>NONE</code> -&gt; no prefix</li> </ul>"},{"location":"modules/logger/#logger-configuration","title":"Logger configuration","text":"<p><code>LoggerConfig</code> is stored as <code>logger.{ext}</code>. On Fabric it is placed under <code>config/&lt;modid&gt;/</code> by default (via <code>ConfigNamespaceProvider</code>).</p> <p>See Logger Config for a full key reference and examples.</p> <p>Key sections:</p> <ul> <li><code>prefix</code>: format and prefix mode.</li> <li><code>defaults</code>: max length, console/chat defaults.</li> <li><code>chat</code> / <code>console</code>: colors, gradients, separators.</li> <li><code>help</code>: help command styling.</li> <li><code>sub-loggers</code>: per-prefix toggles.</li> </ul>"},{"location":"modules/logger/#localisation-and-placeholders","title":"Localisation and placeholders","text":"<p>Attach a <code>LanguageManager</code> to enable auto-localisation:</p> <pre><code>logger.setLanguageManager(languageManager);\n</code></pre> <p>When <code>auto-localization</code> is enabled (default), any message that starts with <code>@</code> is treated as a language key:</p> <pre><code>logger.info(\"@myplugin.ready\");\n</code></pre> <p>The key is resolved via <code>LanguageManager</code> and then rendered as MiniMessage. You can toggle this in <code>logger.yml</code> (<code>auto-localization</code>).</p> <p>On Bukkit, the logger automatically bridges MagicPlaceholders to PlaceholderAPI when it is installed. On Fabric, MagicPlaceholders are bridged to Text Placeholder API and MiniPlaceholders when those mods are present.</p>"},{"location":"modules/overview/","title":"Module overview","text":"<p>MagicUtils is split into focused artifacts so you can depend on only what you need. The platform adapters wire the core modules to Bukkit/Paper, Fabric, or NeoForge.</p>"},{"location":"modules/overview/#core-modules","title":"Core modules","text":"Module Artifact Notes Platform API <code>magicutils-api</code> <code>Platform</code>, <code>Audience</code>, and shared interfaces. Core <code>magicutils-core</code> Config + lang + commands + logger + placeholders. Config <code>magicutils-config</code> JSON/JSONC config engine, migrations, comments. Config YAML <code>magicutils-config-yaml</code> Adds YAML support via Jackson. Config TOML <code>magicutils-config-toml</code> Adds TOML support via Jackson. Lang <code>magicutils-lang</code> Language manager and message helpers. Commands <code>magicutils-commands</code> Annotation/builder command framework. Logger <code>magicutils-logger</code> Adventure-based logger core. Placeholders <code>magicutils-placeholders</code> Placeholder registry. Processor <code>magicutils-processor</code> Annotation processor (internal tooling)."},{"location":"modules/overview/#platform-adapters","title":"Platform adapters","text":"Platform Artifact Notes Bukkit/Paper <code>magicutils-bukkit</code> Includes core modules + Bukkit integrations. Fabric <code>magicutils-fabric</code> Platform API adapter for Fabric. NeoForge <code>magicutils-neoforge</code> Platform API adapter for NeoForge."},{"location":"modules/overview/#fabric-integrations","title":"Fabric integrations","text":"Module Artifact Notes Logger (Fabric) <code>magicutils-logger-fabric</code> Fabric logger adapter. Commands (Fabric) <code>magicutils-commands-fabric</code> Brigadier integration. Placeholders (Fabric) <code>magicutils-placeholders-fabric</code> Fabric placeholder bridge. Fabric bundle <code>magicutils-fabric-bundle</code> Jar-in-jar distribution for servers. <p>Use the per-module pages for API details and examples.</p>"},{"location":"modules/permissions/","title":"Permissions","text":"<p>MagicUtils commands generate and check permission nodes automatically. You can override any node, control default access, and apply conditional checks for arguments.</p>"},{"location":"modules/permissions/#permission-prefix","title":"Permission prefix","text":"<p>Every <code>CommandRegistry.initialize(...)</code> call includes a permission prefix. MagicUtils prepends it to all generated nodes.</p> <pre><code>CommandRegistry.initialize(plugin, \"donatemenu\", logger);\n</code></pre>"},{"location":"modules/permissions/#generated-nodes","title":"Generated nodes","text":"<p>When annotations omit explicit permission strings, MagicUtils builds defaults:</p> <ul> <li>Command: <code>commands.&lt;command&gt;</code></li> <li>Subcommand: <code>commands.&lt;command&gt;.subcommand.&lt;path&gt;</code></li> <li>Argument: <code>commands.&lt;command&gt;.subcommand.&lt;path&gt;.argument.&lt;name&gt;</code></li> </ul> <p>With prefix <code>donatemenu</code>:</p> <ul> <li><code>donatemenu.commands.donate</code></li> <li><code>donatemenu.commands.donate.subcommand.give</code></li> <li><code>donatemenu.commands.donate.subcommand.give.argument.player</code></li> </ul>"},{"location":"modules/permissions/#wildcards","title":"Wildcards","text":"<p>On Bukkit, MagicUtils registers wildcard nodes for convenience:</p> <ul> <li><code>...commands.&lt;command&gt;.*</code></li> <li><code>...commands.&lt;command&gt;.subcommand.*</code></li> </ul> <p>These are registered alongside concrete nodes.</p>"},{"location":"modules/permissions/#default-access","title":"Default access","text":"<p><code>MagicPermissionDefault</code> controls who can execute when no explicit permission is granted:</p> <ul> <li><code>TRUE</code> -&gt; everyone</li> <li><code>OP</code> -&gt; operators (default)</li> <li><code>NOT_OP</code> -&gt; non-operators</li> <li><code>FALSE</code> -&gt; nobody (explicit permission required)</li> </ul> <p>On Bukkit, MagicUtils registers the permission nodes with these defaults. On Fabric, MagicUtils checks <code>fabric-permissions-api</code> when available and falls back to op-level checks otherwise.</p>"},{"location":"modules/permissions/#argument-permissions","title":"Argument permissions","text":"<p>Use <code>@Permission</code> on parameters to gate argument usage:</p> <pre><code>public CommandResult grant(\n        @Sender MagicSender sender,\n        @Permission(when = \"other(player)\") @ParamName(\"player\") Player target\n) {\n    return CommandResult.success(\"ok\");\n}\n</code></pre> <p>You can override the permission node segment and whether <code>.argument.</code> is included:</p> <pre><code>@Permission(node = \"target\", includeArgumentSegment = false)\n</code></pre>"},{"location":"modules/permissions/#conditional-permission-keywords","title":"Conditional permission keywords","text":"<ul> <li><code>self(arg)</code> / <code>other(arg)</code> / <code>anyother(arg)</code></li> <li><code>not_null(arg)</code> / <code>exists(arg)</code></li> <li><code>distinct(a,b)</code> / <code>all_distinct(a,b)</code></li> <li><code>equals(a,b)</code> / <code>not_equals(a,b)</code></li> </ul> <p>Use <code>compare = CompareMode.UUID/NAME/EQUALS/AUTO</code> to control comparison rules.</p>"},{"location":"modules/permissions/#manual-checks","title":"Manual checks","text":"<p><code>MagicSender</code> can be used to check permissions directly:</p> <pre><code>MagicSender sender = MagicSender.wrap(rawSender);\nif (MagicSender.hasPermission(rawSender, \"donatemenu.commands.donate\")) {\n    // ...\n}\n</code></pre>"},{"location":"modules/placeholders-advanced/","title":"Placeholders advanced","text":"<p>This page covers metadata, registry events, and argument handling for MagicUtils placeholders.</p>"},{"location":"modules/placeholders-advanced/#namespace-metadata","title":"Namespace metadata","text":"<p>Register namespaces to expose author/version data to integrations:</p> <pre><code>MagicPlaceholders.registerNamespace(\"donatemenu\", \"Theroer\", \"1.10.0\");\n</code></pre> <p>Metadata is used by PlaceholderAPI expansions and MiniPlaceholders namespace registration.</p>"},{"location":"modules/placeholders-advanced/#key-normalization","title":"Key normalization","text":"<p>Namespaces and keys are normalized to lowercase. Use consistent lowercase names to avoid accidental duplicates.</p>"},{"location":"modules/placeholders-advanced/#arguments","title":"Arguments","text":"<p>Resolvers receive an optional <code>argument</code> string (the part after the first <code>:</code>).</p> <p>PlaceholderAPI example:</p> <ul> <li><code>%donatemenu_balance%</code></li> <li><code>%donatemenu_balance:bank%</code></li> </ul> <p>On Fabric, the argument is supplied by the active placeholder mod. Use the syntax required by Text Placeholder API or MiniPlaceholders.</p>"},{"location":"modules/placeholders-advanced/#audience-handling","title":"Audience handling","text":"<p><code>Audience</code> can be <code>null</code> (console or offline users). Use <code>MagicPlaceholders.audienceFromUuid(UUID)</code> when you only have an ID.</p> <pre><code>MagicPlaceholders.register(\"donatemenu\", \"balance\", (audience, arg) -&gt; {\n    if (audience == null) {\n        return \"0\";\n    }\n    return \"42\";\n});\n</code></pre>"},{"location":"modules/placeholders-advanced/#registry-listeners","title":"Registry listeners","text":"<p>Listen to registry changes:</p> <pre><code>MagicPlaceholders.addListener(new MagicPlaceholders.PlaceholderListener() {\n    public void onPlaceholderRegistered(MagicPlaceholders.PlaceholderKey key) {\n        // update UI, refresh cache, etc.\n    }\n\n    public void onPlaceholderUnregistered(MagicPlaceholders.PlaceholderKey key) {\n    }\n\n    public void onNamespaceUpdated(String namespace) {\n    }\n});\n</code></pre>"},{"location":"modules/placeholders-advanced/#safe-resolution","title":"Safe resolution","text":"<p><code>MagicPlaceholders.resolve(...)</code> returns an empty string when the placeholder is missing or when a resolver throws. Keep resolvers fast and side-effect free.</p>"},{"location":"modules/placeholders-advanced/#integration-summary","title":"Integration summary","text":"<ul> <li>Bukkit: auto-bridges to PlaceholderAPI   when installed.</li> <li>Fabric: registers with Text Placeholder API   and MiniPlaceholders when present.</li> </ul>"},{"location":"modules/placeholders/","title":"Placeholders","text":"<p>The placeholder module offers a shared registry and platform bridges to PlaceholderAPI (Bukkit) and Text Placeholder API / MiniPlaceholders (Fabric).</p>"},{"location":"modules/placeholders/#register-placeholders","title":"Register placeholders","text":"<pre><code>MagicPlaceholders.registerNamespace(\"myplugin\", \"MyPlugin\", \"1.0.0\");\n\nMagicPlaceholders.register(\"myplugin\", \"online\", (audience, arg) -&gt; \"42\");\nMagicPlaceholders.register(\"myplugin\", \"balance\", (audience, arg) -&gt; {\n    return arg != null ? arg : \"0\";\n});\n</code></pre>"},{"location":"modules/placeholders/#resolve-placeholders","title":"Resolve placeholders","text":"<pre><code>String value = MagicPlaceholders.resolve(\"myplugin\", \"online\", audience, null);\n</code></pre> <p>Resolvers receive:</p> <ul> <li><code>Audience</code> when available (player context).</li> <li><code>arg</code> from <code>placeholder:key:arg</code> syntax (used by   PlaceholderAPI,   Text Placeholder API,   MiniPlaceholders).</li> </ul>"},{"location":"modules/placeholders/#platform-bridges","title":"Platform bridges","text":"<ul> <li>Bukkit: placeholders are exposed to PlaceholderAPI automatically when the   logger adapter is created.</li> <li>Fabric: placeholders are bridged to Text Placeholder API and   MiniPlaceholders   when those mods are present (optional integration).</li> </ul> <p>Supported Fabric mods:</p> <ul> <li>Text Placeholder API</li> <li>MiniPlaceholders</li> </ul> <p>See Placeholders Advanced for metadata and listener details.</p>"},{"location":"modules/placeholders/#notes","title":"Notes","text":"<ul> <li><code>MagicPlaceholders.namespaces()</code> and <code>entries()</code> provide registry snapshots.</li> <li><code>audienceFromUuid(UUID)</code> creates a lightweight audience wrapper for offline   resolution.</li> </ul>"},{"location":"platforms/bukkit/","title":"Bukkit/Paper","text":"<p>Use <code>magicutils-bukkit</code> to wire MagicUtils to Bukkit/Paper.</p>"},{"location":"platforms/bukkit/#bootstrap","title":"Bootstrap","text":"<pre><code>Platform platform = new BukkitPlatformProvider(plugin);\nConfigManager configManager = new ConfigManager(platform);\nLogger logger = new Logger(platform, plugin, configManager);\n</code></pre>"},{"location":"platforms/bukkit/#commands","title":"Commands","text":"<pre><code>CommandRegistry.initialize(plugin, \"myplugin\", logger);\nCommandRegistry.register(new HelpCommand(logger));\nCommandRegistry.register(new ExampleCommand());\n</code></pre> <p><code>CommandRegistry</code> registers commands directly with the Bukkit CommandMap, so you do not need to declare them in <code>plugin.yml</code>. Avoid duplicating command entries to prevent conflicts.</p>"},{"location":"platforms/bukkit/#permissions","title":"Permissions","text":"<p>Permission nodes are resolved using the prefix passed to <code>initialize(...)</code>. You can still declare explicit permissions via <code>@Permission</code> annotations.</p>"},{"location":"platforms/bukkit/#placeholders","title":"Placeholders","text":"<p>When PlaceholderAPI is installed, MagicUtils placeholders are exposed automatically via the Bukkit logger adapter.</p>"},{"location":"platforms/fabric/","title":"Fabric","text":"<p>Fabric uses <code>FabricPlatformProvider</code> and the jar-in-jar bundle.</p>"},{"location":"platforms/fabric/#bootstrap","title":"Bootstrap","text":"<pre><code>Platform platform = new FabricPlatformProvider(server);\nConfigManager configManager = new ConfigManager(platform);\nLogger logger = new Logger(platform, configManager, \"MyMod\");\n</code></pre>"},{"location":"platforms/fabric/#commands","title":"Commands","text":"<pre><code>CommandRegistry.initialize(\"mymod\", \"mymod\", logger);\nCommandRegistry.register(new HelpCommand(logger));\nCommandRegistry.register(new ExampleCommand());\n</code></pre> <p>You can pass a custom op level via <code>CommandRegistry.initialize(..., opLevel)</code>.</p>"},{"location":"platforms/fabric/#permissions","title":"Permissions","text":"<p>Fabric permissions integrate with <code>fabric-permissions-api-v0</code> when installed. If no permission provider exists, MagicUtils falls back to op-level checks.</p>"},{"location":"platforms/fabric/#placeholders","title":"Placeholders","text":"<p>Fabric placeholder support is optional and activates automatically when placeholder mods are present:</p> <ul> <li>Text Placeholder API</li> <li>MiniPlaceholders</li> </ul>"},{"location":"platforms/fabric/#config-format","title":"Config format","text":"<p>Default config format on Fabric is JSONC. You can override it via <code>&lt;config&gt;.format</code> or <code>magicutils.format</code> (see Config module docs).</p>"},{"location":"platforms/fabric/#bundle-strategy","title":"Bundle strategy","text":"<ul> <li>Embed <code>magicutils-fabric-bundle</code> in your mod (recommended).</li> <li>Or ship one shared bundle mod on the server and depend on it.</li> </ul> <p>Do not use both approaches at the same time.</p>"},{"location":"platforms/neoforge/","title":"NeoForge","text":"<p>NeoForge support focuses on platform wiring, config, and logging.</p> <pre><code>Platform platform = new NeoForgePlatformProvider();\nConfigManager configManager = new ConfigManager(platform);\nLoggerCore logger = new LoggerCore(platform, configManager, this, \"MyMod\");\n</code></pre> <p>Commands and placeholders are not wired on NeoForge yet. Use MagicUtils core modules where applicable and handle command registration separately.</p>"},{"location":"recipes/","title":"Recipes","text":""},{"location":"recipes/#embed-magicutils-in-a-fabric-mod","title":"Embed MagicUtils in a Fabric mod","text":"<p>Use <code>include(\"dev.ua.theroer:magicutils-fabric-bundle:dev\")</code> and avoid installing the standalone bundle on the server.</p>"},{"location":"recipes/#share-a-single-bundle-on-a-server","title":"Share a single bundle on a server","text":"<p>Install <code>magicutils-fabric-bundle</code> in <code>mods/</code> and use <code>modImplementation</code> only.</p> <p>Download link: <code>magicutils-fabric-bundle-dev.jar</code></p>"},{"location":"recipes/#register-the-built-in-help-command","title":"Register the built-in help command","text":"<pre><code>CommandRegistry.register(new HelpCommand(logger));\n</code></pre>"},{"location":"recipes/#add-help-as-a-subcommand","title":"Add help as a subcommand","text":"<pre><code>CommandRegistry.register(new MyCommand()\n        .addSubCommand(HelpCommandSupport.createHelpSubCommand(\n                \"help\",\n                logger.getCore(),\n                CommandRegistry::getCommandManager\n        )));\n</code></pre>"},{"location":"recipes/#force-a-config-format","title":"Force a config format","text":"<p>Create <code>&lt;config&gt;.format</code> next to the file or <code>magicutils.format</code> in the root config directory with a single line:</p> <pre><code>jsonc\n</code></pre>"},{"location":"recipes/#add-enum-suggestions","title":"Add enum suggestions","text":"<p>Enum parameters are auto-suggested. You can additionally limit the visible choices via <code>@Suggest(\"{one,two}\")</code> for a specific argument.</p>"}]}